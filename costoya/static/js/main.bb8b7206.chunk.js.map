{"version":3,"sources":["ScreenManager.js","Menu.js","App.js","index.js"],"names":["ScreenManager","svgNode","sm","setSelectedScreen","screen","screenName","replace","viewBox","viewBoxMap","setAttribute","getViewBoxMap","this","svg","screens","querySelectorAll","vbMap","forEach","id","getAttribute","createViewBoxMap","_P_HOME","button","buttonTarget","addEventListener","window","scrollTo","Menu","options","class","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","option","label","beforeInjection","afterInjection","error","console","log","Home","URLSearchParams","useLocation","search","flow","get","showMenu","src","className","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"4RACqBA,EAKjB,WAAYC,GAAS,IAuCCC,EAvCF,gCAUpBC,kBAAoB,SAACC,GACjB,IACIC,EAAWD,EAAOE,QADN,cACuB,IACjCC,EAAU,EAAKC,WAAWJ,GAAS,EAAKI,WAAWJ,GAAU,EAAKI,WAAWH,GACnF,EAAKJ,QAAQQ,aAAa,UAAWF,IAdrB,KAiBpBG,cAAgB,WACZ,OAAO,EAAKF,YAjBZP,EAAQQ,aAAa,QAAS,QAC9BR,EAAQQ,aAAa,SAAU,IAC/BE,KAAKV,QAAUA,EACfU,KAAKH,WAqBb,SAA0BI,GACvB,IAAIC,EAAUD,EAAIE,iBAAiB,iBAC/BC,EAAQ,GAKX,OAJDF,EAAQG,SAAQ,SAACZ,GACb,IAAMa,EAAKb,EAAOc,aAAa,MAC/BH,EAAME,GAAN,UAAeb,EAAOc,aAAa,KAAnC,YAA2Cd,EAAOc,aAAa,KAA/D,YAAuEd,EAAOc,aAAa,SAA3F,YAAuGd,EAAOc,aAAa,cAEvHH,EA5BeI,CAAiBR,KAAKV,SAC5CU,KAAKH,WAAWY,SACRT,KAAKV,QAAQQ,aAAa,UAAWE,KAAKH,WAAWY,UAiCvClB,EAhCDS,MAiCJV,QAAQa,iBAAiB,cAClCE,SAAQ,SAAAK,GACZ,IAAMC,EAAeD,EAAOH,aAAa,MAAMZ,QAAQ,MAAO,OAE9De,EAAOE,iBAAiB,SAAS,WAC7BrB,EAAGC,kBAAkBmB,GACrBE,OAAOC,SAAS,EAAE,UC/C9B,IAyBeC,EAzBF,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEX,OACI,yBAAKC,MAAM,iDACP,uBAAGA,MAAM,eAAeC,KAAK,KAA7B,WACA,4BAAQD,MAAM,iBAAiBE,KAAK,SAASC,cAAY,WAAWC,cAAY,0BAA0BC,gBAAc,yBAAyBC,gBAAc,QAAQC,aAAW,qBAC9K,0BAAMP,MAAM,yBAGhB,yBAAKA,MAAM,2BAA2BX,GAAG,0BACrC,wBAAIW,MAAM,sBAEFD,EAAQS,KAAI,SAACC,GACT,OACI,wBAAIT,MAAM,YACN,uBAAGA,MAAM,WAAWC,KAAMQ,EAAOR,MAAOQ,EAAOC,eCJ7EC,EAAkB,SAAC3B,GACxB,IAAIZ,EAAcY,IAQb4B,EAAiB,SAACC,EAAO7B,GAC1B6B,IACHC,QAAQC,IAAI/B,GACZ8B,QAAQD,MAAMA,KAKVG,EAAO,WACZ,IAAIC,gBAAgBC,cAAcC,QAClC,IAAIC,EAAO,IAAIH,gBAAgBC,cAAcC,QAAQE,IAAI,QACrDC,GAAW,EAMf,OALKF,IACJA,EAAO,2BACPE,GAAS,GAEVF,EAAI,6BAAyBA,EAAzB,QAEH,6BACGE,GACD,kBAAC,EAAD,CAAMvB,QAAS,CACd,CACCW,MAAO,oBACPT,KAAM,kFACL,CACDS,MAAO,wBACPT,KAAM,sFACL,CACDS,MAAO,yBACPT,KAAM,wFACL,CACDS,MAAO,wBACPT,KAAM,sFACL,CACDS,MAAO,0BACPT,KAAM,2FAIT,kBAAC,IAAD,CACCU,gBAAiBA,EACjBC,eAAgBA,EAChBW,IAAKH,EACLI,UAAU,4BAkBCC,MAbf,WACC,OACC,yBAAKD,UAAU,OACd,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOE,KAAK,WAAWC,UAAWX,QCzEvCY,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.bb8b7206.chunk.js","sourcesContent":["\nexport default class ScreenManager{\n    /**\n     * \n     * @param {HTMLElement} svgNode \n     */\n    constructor(svgNode){\n        svgNode.setAttribute(\"width\", \"100%\");\n        svgNode.setAttribute(\"height\", \"\");\n        this.svgNode = svgNode;\n        this.viewBoxMap = createViewBoxMap(this.svgNode);\n\tif(this.viewBoxMap._P_HOME)\n            this.svgNode.setAttribute(\"viewBox\", this.viewBoxMap._P_HOME);\n        configureButtons(this);\n    }\n\n    setSelectedScreen = (screen) => {\n        let pattern =   /[_]+[0-9]+/g;\n        let screenName=screen.replace(pattern, '');\n        const viewBox = this.viewBoxMap[screen]? this.viewBoxMap[screen] : this.viewBoxMap[screenName];\n        this.svgNode.setAttribute(\"viewBox\", viewBox);\n    }\n\n    getViewBoxMap = () => {\n        return this.viewBoxMap;\n    }\n} \n/**\n * \n * @param {HTMLElement} svg \n */\nfunction createViewBoxMap(svg) {\n   let screens = svg.querySelectorAll(\"rect[id^=_P_]\");\n   let vbMap = {};\n   screens.forEach((screen)=>{\n       const id = screen.getAttribute(\"id\");\n       vbMap[id] = `${screen.getAttribute(\"x\")} ${screen.getAttribute(\"y\")} ${screen.getAttribute(\"width\")} ${screen.getAttribute(\"height\")}`\n   })\n    return vbMap;\n}\n\n/**\n * \n * @param {ScreenManager} sm \n */\nfunction configureButtons(sm){\n    let buttons = sm.svgNode.querySelectorAll(\"g[id^=_B_]\");\n    buttons.forEach(button => {\n        const buttonTarget = button.getAttribute('id').replace('_B_', '_P_');\n\n        button.addEventListener('click', ()=> {\n            sm.setSelectedScreen(buttonTarget);\n            window.scrollTo(0,0); \n        })\n    })\n}\n","import React from 'react';\n\n/**\n * @param {Array} options\n */\nconst Menu = ({options}) => {\n\n    return (\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <a class=\"navbar-brand\" href=\"#\">Costoya</a>\n            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n\n            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                <ul class=\"navbar-nav mr-auto\">\n                    {\n                        options.map((option)=>{\n                            return(\n                                <li class=\"nav-item\">\n                                    <a class=\"nav-link\" href={option.href}>{option.label}</a>\n                                </li>\n                            )\n                        })\n                    }\n                </ul>\n            </div>\n        </nav>)\n}\n\nexport default Menu;","import React from 'react';\nimport { useLocation } from \"react-router\";\nimport './App.css';\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute\n} from \"react-router-dom\";\nimport ReactSVG from 'react-svg';\nimport ScreenManager from './ScreenManager';\nimport Menu from './Menu';\n\n/**\n * \n * @param {HTMLElement} svg \n */\nconst beforeInjection = (svg) => {\n\tnew ScreenManager(svg);\n}\n\n/**\n * \n * @param {Error} error \n * @param {HTMLElement} svg \n */\nconst afterInjection = (error, svg) => {\n\tif (error) {\n\t\tconsole.log(svg);\n\t\tconsole.error(error);\n\t}\n}\n\n\nconst Home = () => {\n\tnew URLSearchParams(useLocation().search);\n\tlet flow = new URLSearchParams(useLocation().search).get('flow');\n\tlet showMenu = true;\n\tif (!flow) {\n\t\tflow = \"usuario-anonimo-busqueda\";\n\t\tshowMenu=false;\n\t}\n\tflow = `../costoya-screens/${flow}.svg`;\n\treturn (\n\t\t<div>\n\t\t\t{\tshowMenu &&\n\t\t\t\t<Menu options={[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Nueva TasaciÃ³n\",\n\t\t\t\t\t\thref: \"https://gonzalomz.github.io/costoya/?flow=usuario-administrador-nueva-tasacion\"\n\t\t\t\t\t},{\n\t\t\t\t\t\tlabel: \"Tasaciones Pendientes\",\n\t\t\t\t\t\thref: \"https://gonzalomz.github.io/costoya/?flow=usuario-administrador-tasacion-pendiente\"\n\t\t\t\t\t},{\n\t\t\t\t\t\tlabel: \"Tasaciones en Progreso\",\n\t\t\t\t\t\thref: \"https://gonzalomz.github.io/costoya/?flow=usuario-administrador-tasacion-en-progreso\"\n\t\t\t\t\t},{\n\t\t\t\t\t\tlabel: \"Tasaciones Realizadas\",\n\t\t\t\t\t\thref: \"https://gonzalomz.github.io/costoya/?flow=usuario-administrador-tasacion-realizada\"\n\t\t\t\t\t},{\n\t\t\t\t\t\tlabel: \"Propiedades disponibles\",\n\t\t\t\t\t\thref: \"https://gonzalomz.github.io/costoya/?flow=usuario-administrador-propiedad-disponible\"\n\t\t\t\t\t}\n\t\t\t\t]}></Menu>\n\t\t\t}\n\t\t\t<ReactSVG\n\t\t\t\tbeforeInjection={beforeInjection}\n\t\t\t\tafterInjection={afterInjection}\n\t\t\t\tsrc={flow}\n\t\t\t\tclassName=\"fadeIn animated w-100\"></ReactSVG>\n\t\t</div>\n\t);\n}\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/costoya\" component={Home}>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}